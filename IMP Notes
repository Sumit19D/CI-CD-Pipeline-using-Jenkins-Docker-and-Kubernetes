##### ğŸ” Allow Jenkins Docker access #####
sudo usermod -aG docker jenkins
sudo systemctl restart jenkins

why to allow jenkins Docekr access because 
Jab hum Jenkins me JOB create karke Run karte hai tab jenkins /var/lib/jenkins/workspace/(JOB-name) iss folder me Dockerfile search karta hai  agar jenkins ko iss path me Dockerfile nahi mili
toh JOB fail hota hai...Tab hum "Allow Jenkins Docker access" commands use karte hai.
then we can see the humari entire github repository is showing under /var/lib/jenkins/workspace/(JOB-name)
and then we can mention the dockerfile path in the pipeline

We can not execute any sudo commands in jenkins 
Because
Jenkins user is system-created
No password is set
So sudo will always fail


Check if kubeconfig exists for Jenkins---Means jenkins is not having kubectl access
ls -l /var/lib/jenkins/.kube/config

## ğŸ” Copy kubeconfig to Jenkins user ## 
From ubuntu user run below commands-----------
sudo mkdir -p /var/lib/jenkins/.kube
sudo cp /home/ubuntu/.kube/config /var/lib/jenkins/.kube/config
sudo chown -R jenkins:jenkins /var/lib/jenkins/.kube

Best Practice (Production / Interview-Ready)

## ğŸ” Instead of copying kubeconfig: Use Jenkins Credentials + kubeconfig ##

Jenkins â†’ Manage Credentials
Add Secret File
Upload kubeconfig
ID: kubeconfig

to download kubeconfig file from Ec2 to laptop run below command in Powershell/Putty
scp -i /path/to/your-ec2-key.pem ubuntu@<EC2_PUBLIC_IP>:/home/ubuntu/.kube/config ~/kubeconfig-ec2
scp -i Downloads\netflix.pem ubuntu@54.163.218.239:/home/ubuntu/.kube/config ~/kubeconfig-ec2


#####ğŸ” Minikube + Jenkins permission issue #####
Your kubeconfig (used in Jenkins) points to Minikube certificates
ğŸ‘‰ Those certs live in:
/home/ubuntu/.minikube/
ğŸ‘‰ Jenkins runs as user: jenkins
ğŸ‘‰ jenkins does NOT have permission to read /home/ubuntu/.minikube

So kubectl cannot read client.crt / client.key / ca.crt

## ğŸ” Copy Minikube certs to Jenkins home
From ubuntu user run below commands-----------
sudo mkdir -p /var/lib/jenkins/.minikube
sudo cp -r /home/ubuntu/.minikube/* /var/lib/jenkins/.minikube/
sudo chown -R jenkins:jenkins /var/lib/jenkins/.minikube

## ğŸ” Then update kubeconfig used by Jenkins:
sudo sed -i 's|/home/ubuntu/.minikube|/var/lib/jenkins/.minikube|g' /var/lib/jenkins/.kube/config

##### ğŸ” If interviewer asks: ###
How did you integrate Jenkins with Minikube?

Say:
â€œI used kubeconfig as a Jenkins secret file and ensured Jenkins had read access to Minikube certificates. Then applied manifests using kubectl in the pipeline.â€


#############
you can run and open this app in a browser, but it depends on where Minikube is running.

URL: http://192.168.49.2:30081
192.168.49.2 â†’ Minikube internal node IP
30081 â†’ NodePort
This IP is inside the EC2 VM, not your laptop

So:
âœ… Browser on EC2 â†’ works
âŒ Browser on your laptop â†’ wonâ€™t open directly

If you open a browser on the EC2 machine itself (GUI / Firefox / curl):
curl http://192.168.49.2:30081

âœ… How to access from your laptop
Option 1: SSH Port Forwarding (BEST & SIMPLE)
On your laptop:
ssh -i key.pem -L 30081:192.168.49.2:30081 ubuntu@<EC2_PUBLIC_IP>
ssh -i .\netflix.pem -L 30081:192.168.49.2:30081 ubuntu@3.88.68.59

Now open browser on laptop:
http://localhost:30081

â€œYes, the application is accessible via a NodePort service.
Since Minikube runs inside an EC2 instance, I access it either via SSH port forwarding or by exposing the NodePort through the EC2 security group.â€
